<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>登录</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/MyCss.css" rel="stylesheet">
    <script src="../js/jquery-3.3.1.js"></script>
    <script src="../js/jquery.cookie.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/user_header.js"></script>
</head>
<body>
<nav style="font-size:20px;text-align: center; top: 0;" id="global_header"></nav>
<script>
    $("#global_header").load("../static/global_header.html")
</script>

<div class="container" style="margin-top: 50px">
    <div class="row">
        <div class="col-md-4" style="text-align: center"></div>
        <div class="col-md-4 normal-font">
            <div id="input-group">
                <p style="color: purple;font-size: 40px;margin-top: 50px">注册新用户</p>
                <h4 style="color: purple;margin-top: 30px">邮箱</h4>
                <input type="text" id="email"
                       style="width:400px;border:none; border-bottom:3px solid purple;outline: none;"
                       placeholder="xxxxxx@example.com">
                <h4 style="color: purple;margin-top: 30px">用户名</h4>
                <input type="text" id="userName"
                       style="width:400px;border:none; border-bottom:3px solid purple;outline: none;">
                <h4 style="color: purple;margin-top: 30px">密码</h4>
                <input type="password" id="password"
                       style="width:400px;border:none; border-bottom:3px solid purple;outline: none;">

                <h4 style="color: purple;margin-top: 30px">确认密码</h4>
                <input type="password" id="confirmPassword"
                       style="width:400px;border:none; border-bottom:3px solid purple;outline: none;">

                <button class="btn btn-default" type="submit" onclick="getSignupInput()"
                        style="font-size:16px;margin-top: 40px;background-color:purple;color:white;width: 400px;height: 40px">
                    确认注册
                </button>

            </div>
        </div>
        <div class="col-md-4" style="text-align: center"></div>
    </div>
</div>

</body>
<script>
    //一个简单的检验例子，待完善，优先度低
    function getSignupInput( ){
        var email = $("#email").val();
        console.log(email)
        if(email==''||email==null){
            var warning=$("<p></p>").text("邮箱地址错误").css("color","purple");
            $("#email").after(warning)
        }

        var re = /^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;

    }
    function test(data) {
        var data={"username": data[0], "pwd": hash = hex_md5(data[1]), 'school': data[2], 'email': data[3]};
                $.ajax({
                    type: 'POST',
                    url:'http://127.0.0.1:8080/signup',
                    data:JSON.stringify(data),
                    contentType: 'application/json; charset=UTF-8',
                    success:function(data_return){
                        alert(data_return)
                    }
                });
    }
</script>
</html>